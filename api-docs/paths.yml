/patients/{patient_id}:
  get:
    summary: Show Patient
    description: |
      Show a Patient by its ID
    parameters:
      - name: patient_id
        in: path
        description: GUID of the patient
        required: true
        type: string
    tags:
      - Patients
    responses:
      200:
        description: details about a patient
        schema:
          $ref: PatientShow
          #type: array
          #items:
          #  $ref: Patient
      404:
        description: patient not found for current practice
  put:
    summary: Update Patient
    description: |
      Update a Patient

       parameter                     |options                                                                                                                                                                    |
      -------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
      gender_code                    |Uses FHIR DSTU 1 (v0.0.82) administrative gender codes ([FHIR Documentation](http://www.hl7.org/FHIR/valueset-administrative-gender.html))          |
      race_code                      |Uses HL7 Race Codes with "" as Declined to Specify. ([HL7 List](http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.6065))  |
      marital_status_code            |Uses FHIR DSTU 1 (v0.0.82) administrative marital status codes. A, I and P are not supported. ([FHIR Documentation](http://www.hl7.org/FHIR/valueset-marital-status.html)) |
      language_code                  |Uses ISO639.2 Language Codes ([ISO639.2 Language list](http://www.loc.gov/standards/iso639-2/php/code_list.php))                                    |
      drivers_license_state_code     |Uses USPS 2-Letter State Abbreviations                                                                                                              |
      employment_status_code         |"E": Employed; "D": Disabled; "R": Retired; "P": Part Time; "U": Unknown; "S": Student'; "N": Not Employed                                          |
      ethnicity_code                 |"U": Declined To Provide; "H": Hispanic or Latino; "N": Not Hispanic or Latino                                                                      |
      student_status_code            |"F": Full Time; "P": Part Time; "N": Not A Student; "U": Unknown                                                                                    |

    parameters:
      - name: patient_id
        in: path
        description: GUID of the patient
        required: true
        type: string
      - name: body
        in: body
        description: patient update payload
        required: true
        type: string
        format: double
        schema:
          $ref: PatientCreate
    tags:
      - Patients
    responses:
      204:
        description: patient updated successfully
      422:
        description: validation error
/patients/{patient_id}/insurances:
  get:
    summary: Show Patient Insurances
    description: |
      Show Patient Insurances
    parameters:
      - name: patient_id
        in: path
        description: GUID of the patient
        required: true
        type: string
    tags:
      - Patients
    responses:
      200:
        description: details about a patient
        schema:
          $ref: PatientInsuranceShow
      404:
        description: patient not found for current practice
/patients:
  post:
    summary: Create Patient
    description: |
      Create a Patient

       parameter                     |options                                                                                                                                             |
      -------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|
      gender_code                    |Uses FHIR DSTU 1 (v0.0.82) administrative gender codes ([FHIR Documentation](http://www.hl7.org/FHIR/valueset-administrative-gender.html))          |
      race_code                      |Uses HL7 Race Codes with "" as Declined to Specify. ([HL7 List](http://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.6065))  |
      marital_status_code            |Uses FHIR DSTU 1 (v0.0.82) administrative marital status codes. A, I and P are not supported. ([FHIR Documentation](http://www.hl7.org/FHIR/valueset-marital-status.html))        |
      language_code                  |Uses ISO639.2 Language Codes ([ISO639.2 Language list](http://www.loc.gov/standards/iso639-2/php/code_list.php))                                    |
      drivers_license_state_code     |Uses USPS 2-Letter State Abbreviations                                                                                                              |
      employment_status_code         |"E": Employed; "D": Disabled; "R": Retired; "P": Part Time; "U": Unknown; "S": Student'; "N": Not Employed                                          |
      ethnicity_code                 |"U": Declined To Provide; "H": Hispanic or Latino; "N": Not Hispanic or Latino                                                                      |
      student_status_code            |"F": Full Time; "P": Part Time; "N": Not A Student; "U": Unknown                                                                                    |

    parameters:
      - name: query
        in: body
        description: patient creation payload
        required: true
        type: string
        format: double
        schema:
          $ref: PatientCreate
    tags:
      - Patients
    responses:
      201:
        description: patient created successfully
        schema:
          $ref: PatientCreate_Response
          #type: array
          #items:
          #  $ref: Patient
      422:
        description: validation error
/patients/search:
  post:
    summary: Search Patients
    description: |
      Search for a Patient

      You must choose between searching by "terms" or by "fields".
      When providing an array of terms, results will match provided terms against any field.
      When providing a fields object, results must match the provided values for the specific fields given.
    parameters:
      - name: query
        in: body
        description: search query
        required: true
        type: string
        format: double
        schema:
          $ref: PatientSearch_Request
    tags:
      - Patients
    responses:
      200:
        description: details about a patient
        schema:
          #$ref: PatientSearch
          type: array
          items:
            $ref: PatientSearch
/appointments:
  get:
    summary: List Appointments
    description: |
      List Appointment with Filtering

      Filtering params are optional.
      Without date filtering, appointments will be returned for today's date.
    parameters:
      - name: location_id
        in: query
        description: Location ID
        required: false
        type: string
        format: double
      - name: resource_id
        in: query
        description: Resource ID
        required: false
        type: string
        format: double
      - name: start_date
        in: query
        description: Start Date for date filtering
        required: false
        type: string
        format: double
      - name: end_date
        in: query
        description: End Date for date filtering
        required: false
        type: string
        format: double
    tags:
      - Appointments
    responses:
      200:
        description: list of appointments
        schema:
          type: array
          items:
           $ref: ListAppointments_Response
        headers:
          Link:
            description: pagination links
            type: string
  post:
    summary: Create Appointment
    description: |
      Create an Appointment

      If no ```end_time``` is specified, the end_time will be calculated based on the duration specified in Nature of Visit.
    parameters:
      - name: appointment
        in: body
        description: appointment information
        required: true
        type: string
        format: double
        schema:
          $ref: CreateAppointment_Request
    tags:
      - Appointments
    responses:
      201:
        description: appointment created successfully
        schema:
          $ref: CreateAppointment_Response
          #type: array
          #items:
          #  $ref: Patient
      422:
        description: validation error
# /schedule/{date}/getblockouts/{location_id}/{resource_id}:
#   get:
#     summary: List Appointment Blockouts
#     description: |
#       List Appointment Blockouts by Date, Location and Resource
#     parameters:
#       - name: date
#         in: path
#         description: Appointment Date
#         required: true
#         type: string
#         format: double
#       - name: location_id
#         in: path
#         description: Location ID
#         required: true
#         type: string
#         format: double
#       - name: resource_id
#         in: path
#         description: Resource ID
#         required: true
#         type: string
#         format: double
#     tags:
#       - Appointments
#     responses:
#       200:
#         description: list of appointment blockouts
#         schema:
#           $ref: AppointmentBlockoutsByLocation_Response_array
#           # $ref: AppointmentBlockoutsByLocation_Response_appointment_blockout
#           type: array
#           #items:
#           #  $ref: Patient
/appointment_blockouts:
  get:
    summary: List Appointment Blockouts
    description: |
      List Appointment Blockouts with Filtering

      Filtering params are optional.
      If date filtering is provided, occurences of each blockout within the given timespan will be included.
      Without date filtering, blockouts will be returned for today's date.
    parameters:
      - name: location_id
        in: query
        description: Location ID
        required: false
        type: string
        format: double
      - name: resource_id
        in: query
        description: Resource ID
        required: false
        type: string
        format: double
      - name: start_date
        in: query
        description: Start Date for date filtering
        required: false
        type: string
        format: double
      - name: end_date
        in: query
        description: End Date for date filtering
        required: false
        type: string
        format: double
    tags:
      - Appointment Blockouts
    responses:
      200:
        description: list of appointment blockouts
        schema:
          # $ref: AppointmentBlockouts_Response
          type: array
          items:
           $ref: AppointmentBlockouts_Response
        headers:
          Link:
            description: pagination links
            type: string
/appointmentblockouts/listbyresourceanddate/{provider_id}/date/{date}:
  get:
    summary: List Appointment Blockouts
    description: |
      List Appointment Blockouts for Provider by Date
    parameters:
      - name: date
        in: path
        description: Appointment Date
        required: true
        type: string
        format: double
      - name: provider_id
        in: path
        description: Provider ID
        required: true
        type: string
        format: double
      - name: include_appointments
        in: query
        description: Include Appointments for specified Date and Provider along with the Blockouts
        required: false
        type: boolean
        format: double
    tags:
      - Appointment Blockouts
    responses:
      200:
        description: list of appointment vlockouts
        schema:
          $ref: AppointmentBlockouts_Response
          #type: array
          #items:
          #  $ref: Patient
/appointment_templates:
  get:
    summary: List Appointment Templates
    description: |
      List Appointment Templates for a Practice

      Filtering params are optional.
      If date filtering is provided, occurences of each template within the given timespan will be included.
      Without date filtering, all templates for the Practice will be returned.
    parameters:
      - name: start_date
        in: query
        description: Start Date
        required: false
        type: string
        format: double
      - name: end_date
        in: query
        description: End Date
        required: false
        type: string
        format: double
      - name: location_id
        in: query
        description: Location ID
        required: false
        type: string
        format: double
      - name: resource_id
        in: path
        description: Resource ID
        required: false
        type: string
        format: double
    tags:
      - Appointment Templates
    responses:
      200:
        description: list of appointment templates
        schema:
          #$ref: AppointmentStatus
          type: array
          items:
            $ref: AppointmentTemplates_Response
        headers:
          Link:
            description: pagination links
            type: string
/appointment_resources/{resource_id}/appointment_templates:
  get:
    summary: List Appointment Templates By Resource
    description: |
      List Appointment Templates for a Practice
    parameters:
      - name: start_date
        in: query
        description: Start Date
        required: false
        type: string
        format: double
      - name: end_date
        in: query
        description: End Date
        required: false
        type: string
        format: double
      - name: location_id
        in: query
        description: Location ID
        required: false
        type: string
        format: double
      - name: resource_id
        in: path
        description: Resource ID
        required: true
        type: string
        format: double
    tags:
      - Appointment Templates
    responses:
      200:
        description: list of appointment templates
        schema:
          #$ref: AppointmentStatus
          type: array
          items:
            $ref: AppointmentTemplates_Response
        headers:
          Link:
            description: pagination links
            type: string
/appointment_resources/{resource_id}:
  get:
    summary: Show Appointment Resource
    description: |
      Show Appointment Resource and its Default Provider
    parameters:
      - name: resource_id
        in: path
        description: Appointment Resource ID
        required: true
        type: string
        format: double
    tags:
      - Appointment Resources
    responses:
      200:
        description: appointment resource
        schema:
          #$ref: AppointmentStatus
          type: array
          items:
            $ref: ShowResource_Response
/appointment_statuses:
  get:
    summary: List Appointment Statuses
    description: |
      List Appointment Statuses for a Practice
    parameters:
    tags:
      - Appointments
    responses:
      200:
        description: list of appointment statuses
        schema:
          #$ref: AppointmentStatus
          type: array
          items:
            $ref: AppointmentStatus
/appointment_cancellation_reasons:
  get:
    summary: List Appointment Cancellation Reasons
    description: |
      List Appointment Cancellation Reasons. Some are global, while others belong to specific Practices.
      
      By default, all Appointment Cancellation Reasons that could apply to a Practice are listed.
    parameters:
      - name: global_only
        in: query
        description: Only Show Global Cancellation Reasons
        required: false
        type: boolean
        format: double
    tags:
      - Appointments
    responses:
      200:
        description: list of appointment cancellation reasons
        schema:
          #$ref: AppointmentStatus
          type: array
          items:
            $ref: AppointmentCancellationReason_Response
/appointments/{appointment_id}:
  get:
    summary: Show Appointment
    description: |
      Show an Appointment, including the Patient's preferred_confirmation_method, with possible values of:

      <i>null</i>, 'phone', 'email', 'text_message', 'fax', 'other', 'none'

      Note that <i>null</i> and <i>"none"</i> are very different:
        - A preferred_confirmation_method of <i>null</i> means there is no preference with regard to communication method.
        - A preferred_confirmation_method of <i>'none'</i> means the Patient does not wish to be contacted at all.
    parameters:
      - name: appointment_id
        in: path
        description: GUID of the appointment
        required: true
        type: string
        format: double
    tags:
      - Appointments
    responses:
      200:
        description: appointment
        schema:
          $ref: ShowAppointment_Response
          # type: array
          # items:
            # $ref: CHANGETHIS
/appointments/{appointment_id}/confirmations:
  get:
    summary: List Appointment Confirmations
    description: |
      List confirmations for a particular appointment

      The following Confirmation Methods will be used:
      "other", "phone", "email", "text_message", "fax"

      The following Confirmation Outcomes will be used:
      "terminated", "undeliverable", "error", "responded", "processing", "message_sent", "left_message_to_reschedule", "incorrect_number", "confirmed", "line_busy", "no_answer", "left_message", "disconnected"

      name                       |description                                   |
      ---------------------------|----------------------------------------------|
      terminated                 |Terminated by System                          |
      undeliverable              |Undeliverable: Missing or Invalid Information |
      error                      |Error Message                                 |
      responded                  |Message Responded                             |
      processing                 |Processing                                    |
      message_sent               |Message Sent                                  |
      left_message_to_reschedule |Left message to reschedule                    |
      incorrect_number           |The phone number was not correct              |
      confirmed                  |The patient confirmed the appointment         |
      line_Busy                  |The line dialed was busy                      |
      no_answer                  |No one answered the phone                     |
      left_message               |Left a message                                |
      disconnected               |Phone number disconnected                     |

      &nbsp;
    parameters:
      - name: appointment_id
        in: path
        description: GUID of the appointment
        required: true
        type: string
        format: double
    tags:
      - Appointments
    responses:
      200:
        description: appointment
        schema:
          type: array
          items:
            $ref: CreateAppointmentConfirmation_Response
/appointments/{appointment_id}/confirmation:
  post:
    summary: Confirm Appointment
    description: |
      Record Attempt to Confirm an Appointment and its Outcome

      The following Confirmation Methods can be used:
      "other", "phone", "email", "text_message", "fax"

      The following Confirmation Outcomes can be used:
      "terminated", "undeliverable", "error", "responded", "processing", "message_sent", "left_message_to_reschedule", "incorrect_number", "confirmed", "line_busy", "no_answer", "left_message", "disconnected"

      name                       |description                                   |
      ---------------------------|----------------------------------------------|
      terminated                 |Terminated by System                          |
      undeliverable              |Undeliverable: Missing or Invalid Information |
      error                      |Error Message                                 |
      responded                  |Message Responded                             |
      processing                 |Processing                                    |
      message_sent               |Message Sent                                  |
      left_message_to_reschedule |Left message to reschedule                    |
      incorrect_number           |The phone number was not correct              |
      confirmed                  |The patient confirmed the appointment         |
      line_Busy                  |The line dialed was busy                      |
      no_answer                  |No one answered the phone                     |
      left_message               |Left a message                                |
      disconnected               |Phone number disconnected                     |

      &nbsp;

      When passing "confirmed" as the Confirmation Outcome, the Appointment will be marked as Confirmed.

      Before calling this endpoint, <a href='#!/Appointments/get_appointments_appointment_id' target='_new'>Show Appointment</a> should be called to check the preferred_confirmation_method of the Appointment. For Appointments showing a preferred_confirmation_method of 'none', the Patient does not wish to be contacted at all, and no confirmation attempts should be made.
    parameters:
      - name: appointment_id
        in: path
        description: GUID of the appointment
        required: true
        type: string
        format: double
      - name: confirmation
        in: body
        description: appointment confirmation payload
        required: true
        type: string
        format: double
        schema:
          $ref: CreateAppointmentConfirmation_Request
    tags:
      - Appointments
    responses:
      201:
        description: appointment confirmation record
        schema:
          $ref: CreateAppointmentConfirmation_Response
          # type: array
          # items:
            # $ref: CHANGETHIS
# /appointment/listbyresource/{resource_id}:
#   get:
#     summary: List Appointments
#     description: |
#       List Appointments by Resource
#     parameters:
#       - name: resource_id
#         in: path
#         description: GUID of the resource
#         required: true
#         type: string
#         format: double
#     tags:
#       - Appointments
#     responses:
#       200:
#         description: details about a patient
#         schema:
#           #$ref: AppointmentsByResource
#           type: array
#           items:
#             $ref: AppointmentsByResource
#       404:
#         description: resource not found for current practice
/providers:
  get:
    summary: List Providers
    description: |
      List Providers for a Practice
    parameters:
    tags:
      - Providers
    responses:
      200:
        description: list of providers for a practice
        schema:
          #$ref: NatureOfVisit
          type: array
          items:
            $ref: Provider
/physicians/{npi}:
  get:
    summary: Show Physician
    description: |
      Show physician based on their National Provider Identifier (NPI). If the physician is an organization, 
      then the ```organization``` object will be returned, otherwise it will be null. 
    parameters:
      - name: npi
        in: path
        description: National Provider Identifier (NPI)
        required: true
        type: string
        format: string
    tags:
      - Physicians
    responses:
      200:
        description: details about a physician
        schema:
          $ref: Physician
/appointments/{appointment_id}/cancel:
  put:
    summary: Cancel Appointment
    description: |
      Cancel an Appointment

      An appointment_cancellation_reason_id can be obtained through the <a href='#!/Appointments/get_appointment_cancellation_reasons' target='_new'>List Appointment Cancellation Reasons</a> endpoint.
    parameters:
      - name: appointment_id
        in: path
        description: Appointment ID
        required: true
        type: string
        format: double
      - name: query
        in: body
        description: appointment cancellation payload
        required: true
        type: string
        format: double
        schema:
          $ref: AppointmentCancel_Request
    tags:
      - Appointments
    responses:
      200:
        description: appointment cancelled successfully
        schema:
          $ref: AppointmentCancel_Response
      422:
        description: validation error
/appointment_resources:
  get:
    summary: List Appointment Resources
    description: |
      List Appointment Resources for a Practice
    parameters:
    tags:
      - Appointment Resources
    responses:
      200:
        description: list of appointment resources for a practice
        schema:
          #$ref: NatureOfVisit
          type: array
          items:
            $ref: ListResources_Response
/visit_reasons/{visit_reason_id}/appointment_resources:
  get:
    summary: List Appointment Resources for a Visit Reason
    description: |
      List Appointment Resources for a Practice, filtered by a Visit Reason
    parameters:
      - name: visit_reason_id
        in: path
        description: ID of the Visit Reason
        required: true
        type: string
        format: double
    tags:
      - Appointment Resources
    responses:
      200:
        description: filtered list of visit reasons for a practice
        schema:
          type: array
          items:
            $ref: ListResources_Response
/appointment_resources/{resource_id}/visit_reasons:
  get:
    summary: List Visit Reasons for an Appointment Resource
    description: |
      List Visit Reasons for a Practice, filtered by an Appointment Resource
    parameters:
      - name: resource_id
        in: path
        description: ID of the Appointment Resource
        required: true
        type: string
        format: double
    tags:
      - Visit Reasons
    responses:
      200:
        description: filtered list of visit reasons for a practice
        schema:
          # $ref: NatureOfVisit
          type: array
          items:
            $ref: NatureOfVisit
/locations:
  get:
    summary: List Locations
    description: |
      List Locations for a Practice
    parameters:
    tags:
      - Locations
    responses:
      200:
        description: list of locations for a practice
        schema:
          #$ref: NatureOfVisit
          type: array
          items:
            $ref: Location
/visit_reasons:
  get:
    summary: List Visit Reasons
    description: |
      List Visit Reasons for a Practice
    parameters:
    tags:
      - Visit Reasons
    responses:
      200:
        description: list of visit reasons for a practice
        schema:
          #$ref: NatureOfVisit
          type: array
          items:
            $ref: NatureOfVisit
/oauth2/authorization:
  get:
    summary: Authorization Details
    description:
      Show information about an authorization grant, such as the Practice ID, OAuth scopes, and the User who allowed it
    tags:
      - Authorization
    responses:
      200:
        description: info about an authorization
        schema:
          $ref: OAuth2Authorization_Response
/oauth2/token_info:
  get:
    summary: Token Details
    description:
      Show information about a token, such as the time remaining until it expires
    tags:
      - Authorization
    responses:
      200:
        description: info about a token
        schema:
          $ref: OAuth2TokenInfo_Response
