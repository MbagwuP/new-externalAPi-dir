/patients/{patient_id}:
  get:
    summary: Show Patient
    description: |
      Show a Patient by its ID
    parameters:
      - name: patient_id
        in: path
        description: GUID of the patient
        required: true
        type: string
        format: double
    tags:
      - Patients
    responses:
      200:
        description: details about a patient
        schema:
          $ref: PatientShow
          #type: array
          #items:
          #  $ref: Patient
      404:
        description: patient not found for current practice
/patients:
  post:
    summary: Create Patient
    description: |
      Create a Patient
    parameters:
      - name: query
        in: body
        description: patient creation payload
        required: true
        type: string
        format: double
        schema:
          $ref: PatientCreate
    tags:
      - Patients
    responses:
      201:
        description: patient created successfully
        schema:
          $ref: PatientCreate_Response
          #type: array
          #items:
          #  $ref: Patient
      422:
        description: validation error
/patients/search:
  post:
    summary: Search Patients
    description: |
      Search for a Patient

      You must choose between searching by "terms" or by "fields".
      When providing an array of terms, results will match provided terms against any field.
      When providing a fields object, results must match the provided values for the specific fields given.
    parameters:
      - name: query
        in: body
        description: search query
        required: true
        type: string
        format: double
        schema:
          $ref: PatientSearch_Request
    tags:
      - Patients
    responses:
      200:
        description: details about a patient
        schema:
          #$ref: PatientSearch
          type: array
          items:
            $ref: PatientSearch
/appointments:
  post:
    summary: Create Appointment
    description: |
      Create an Appointment
    parameters:
      - name: appointment
        in: body
        description: appointment information
        required: true
        type: string
        format: double
        schema:
          $ref: CreateAppointment_Request
    tags:
      - Appointments
    responses:
      201:
        description: appointment created successfully
        schema:
          $ref: CreateAppointment_Response
          #type: array
          #items:
          #  $ref: Patient
      422:
        description: validation error
# /schedule/{date}/getblockouts/{location_id}/{resource_id}:
#   get:
#     summary: List Appointment Blockouts
#     description: |
#       List Appointment Blockouts by Date, Location and Resource
#     parameters:
#       - name: date
#         in: path
#         description: Appointment Date
#         required: true
#         type: string
#         format: double
#       - name: location_id
#         in: path
#         description: Location ID
#         required: true
#         type: string
#         format: double
#       - name: resource_id
#         in: path
#         description: Resource ID
#         required: true
#         type: string
#         format: double
#     tags:
#       - Appointments
#     responses:
#       200:
#         description: list of appointment blockouts
#         schema:
#           $ref: AppointmentBlockoutsByLocation_Response_array
#           # $ref: AppointmentBlockoutsByLocation_Response_appointment_blockout
#           type: array
#           #items:
#           #  $ref: Patient
/appointment_blockouts:
  get:
    summary: List Appointment Blockouts
    description: |
      List Appointment Blockouts with Filtering

      Filtering params are optional.
      If date filtering is provided, occurences of each blockout within the given timespan will be included.
      Without date filtering, blockouts will be returned for today's date.
    parameters:
      - name: location_id
        in: query
        description: Location ID
        required: false
        type: string
        format: double
      - name: resource_id
        in: query
        description: Resource ID
        required: false
        type: string
        format: double
      - name: start_date
        in: query
        description: Start Date for date filtering
        required: false
        type: string
        format: double
      - name: end_date
        in: query
        description: End Date for date filtering
        required: false
        type: string
        format: double
    tags:
      - Appointment Blockouts
    responses:
      200:
        description: list of appointment blockouts
        schema:
          # $ref: AppointmentBlockouts_Response
          type: array
          items:
           $ref: AppointmentBlockouts_Response
/appointmentblockouts/listbyresourceanddate/{provider_id}/date/{date}:
  get:
    summary: List Appointment Blockouts
    description: |
      List Appointment Blockouts for Provider by Date
    parameters:
      - name: date
        in: path
        description: Appointment Date
        required: true
        type: string
        format: double
      - name: provider_id
        in: path
        description: Provider ID
        required: true
        type: string
        format: double
      - name: include_appointments
        in: query
        description: Include Appointments for specified Date and Provider along with the Blockouts
        required: false
        type: boolean
        format: double
    tags:
      - Appointment Blockouts
    responses:
      200:
        description: list of appointment vlockouts
        schema:
          $ref: AppointmentBlockouts_Response
          #type: array
          #items:
          #  $ref: Patient
/appointment/listbydate/{date}/provider-{provider_id}:
  get:
    summary: List Appointments
    description: |
      List Appointments for Provider by Date
    parameters:
      - name: date
        in: path
        description: Appointment Date
        required: true
        type: string
        format: double
      - name: provider_id
        in: path
        description: Provider ID
        required: true
        type: string
        format: double
    tags:
      - Appointments
    responses:
      200:
        description: list of appointments
        schema:
          $ref: AppointmentsByDateWithProvider_Response
          #type: array
          #items:
          #  $ref: Patient
      404:
        description: provider not found for current practice
/appointment_templates:
  get:
    summary: List Appointment Templates
    description: |
      List Appointment Templates for a Practice

      Filtering params are optional.
      If date filtering is provided, occurences of each template within the given timespan will be included.
      Without date filtering, all templates for the Practice will be returned.
    parameters:
      - name: start_date
        in: query
        description: Start Date
        required: false
        type: string
        format: double
      - name: end_date
        in: query
        description: End Date
        required: false
        type: string
        format: double
      - name: location_id
        in: query
        description: Location ID
        required: false
        type: string
        format: double
      - name: resource_id
        in: path
        description: Resource ID
        required: false
        type: string
        format: double
    tags:
      - Appointment Templates
    responses:
      200:
        description: list of appointment templates
        schema:
          #$ref: AppointmentStatus
          type: array
          items:
            $ref: AppointmentTemplates_Response
/appointment_resources/{resource_id}/appointment_templates:
  get:
    summary: List Appointment Templates By Resource
    description: |
      List Appointment Templates for a Practice
    parameters:
      - name: start_date
        in: query
        description: Start Date
        required: false
        type: string
        format: double
      - name: end_date
        in: query
        description: End Date
        required: false
        type: string
        format: double
      - name: location_id
        in: query
        description: Location ID
        required: false
        type: string
        format: double
      - name: resource_id
        in: path
        description: Resource ID
        required: true
        type: string
        format: double
    tags:
      - Appointment Templates
    responses:
      200:
        description: list of appointment templates
        schema:
          #$ref: AppointmentStatus
          type: array
          items:
            $ref: AppointmentTemplates_Response
/appointment_resources/{resource_id}:
  get:
    summary: Show Appointment Resource
    description: |
      Show Appointment Resource and its Default Provider
    parameters:
      - name: id
        in: path
        description: Appointment Resource ID
        required: true
        type: string
        format: double
    tags:
      - Appointment Resources
    responses:
      200:
        description: appointment resource
        schema:
          #$ref: AppointmentStatus
          type: array
          items:
            $ref: ShowResource_Response
/appointment_statuses:
  get:
    summary: List Appointment Statuses
    description: |
      List Appointment Statuses for a Practice
    parameters:
    tags:
      - Appointments
    responses:
      200:
        description: list of appointment statuses
        schema:
          #$ref: AppointmentStatus
          type: array
          items:
            $ref: AppointmentStatus
/appointments:
  get:
    summary: List Appointments
    description: |
      List Appointment with Filtering

      Filtering params are optional.
      Without date filtering, appointments will be returned for today's date.
    parameters:
      - name: location_id
        in: query
        description: Location ID
        required: false
        type: string
        format: double
      - name: resource_id
        in: query
        description: Resource ID
        required: false
        type: string
        format: double
      - name: start_date
        in: query
        description: Start Date for date filtering
        required: false
        type: string
        format: double
      - name: end_date
        in: query
        description: End Date for date filtering
        required: false
        type: string
        format: double
    tags:
      - Appointments
    responses:
      200:
        description: list of appointments
        schema:
          type: array
          items:
           $ref: ListAppointments_Response
/appointments/{guid}:
  get:
    summary: Show Appointment
    description: |
      Show an Appointment, including the Patient's preferred communication method
    parameters:
      - name: guid
        in: path
        description: GUID of the appointment
        required: true
        type: string
        format: double
    tags:
      - Appointments
    responses:
      200:
        description: appointment
        schema:
          $ref: ShowAppointment_Response
          # type: array
          # items:
            # $ref: CHANGETHIS
/appointments/{appointment_id}/confirmation:
  post:
    summary: Confirm Appointment
    description: |
      Record Attempt to Confirm an Appointment and its Outcome

      The following Confirmation Methods can be used:
      "other", "phone", "email", "text_message", "fax"

      The following Confirmation Outcomes can be used:
      "terminated", "undeliverable", "error", "responded", "processing", "message_sent", "left_message_to_reschedule", "incorrect_number", "confirmed", "line_busy", "no_answer", "left_message", "disconnected"
    parameters:
      - name: appointment_id
        in: path
        description: GUID of the appointment
        required: true
        type: string
        format: double
      - name: confirmation
        in: body
        description: appointment confirmation payload
        required: true
        type: string
        format: double
        schema:
          $ref: CreateAppointmentConfirmation_Request
    tags:
      - Appointments
    responses:
      200:
        description: appointment confirmation record
        schema:
          $ref: CreateAppointmentConfirmation_Response
          # type: array
          # items:
            # $ref: CHANGETHIS
# /appointment/listbyresource/{resource_id}:
#   get:
#     summary: List Appointments
#     description: |
#       List Appointments by Resource
#     parameters:
#       - name: resource_id
#         in: path
#         description: GUID of the resource
#         required: true
#         type: string
#         format: double
#     tags:
#       - Appointments
#     responses:
#       200:
#         description: details about a patient
#         schema:
#           #$ref: AppointmentsByResource
#           type: array
#           items:
#             $ref: AppointmentsByResource
#       404:
#         description: resource not found for current practice
/providers:
  get:
    summary: List Providers
    description: |
      List Providers for a Practice
    parameters:
    tags:
      - Providers
    responses:
      200:
        description: list of providers for a practice
        schema:
          #$ref: NatureOfVisit
          type: array
          items:
            $ref: Provider
/appointment_resources:
  get:
    summary: List Appointment Resources
    description: |
      List Appointment Resources for a Practice
    parameters:
    tags:
      - Appointment Resources
    responses:
      200:
        description: list of appointment resources for a practice
        schema:
          #$ref: NatureOfVisit
          type: array
          items:
            $ref: ListResources_Response
/visit_reasons/{id}/appointment_resources:
  get:
    summary: List Appointment Resources for a Visit Reason
    description: |
      List Appointment Resources for a Practice, filtered by a Visit Reason
    parameters:
      - name: id
        in: path
        description: ID of the Visit Reason
        required: true
        type: string
        format: double
    tags:
      - Appointment Resources
    responses:
      200:
        description: filtered list of visit reasons for a practice
        schema:
          type: array
          items:
            $ref: ListResources_Response
/appointment_resources/{id}/visit_reasons:
  get:
    summary: List Visit Reasons for an Appointment Resource
    description: |
      List Visit Reasons for a Practice, filtered by an Appointment Resource
    parameters:
      - name: id
        in: path
        description: ID of the Appointment Resource
        required: true
        type: string
        format: double
    tags:
      - Visit Reasons
    responses:
      200:
        description: filtered list of visit reasons for a practice
        schema:
          # $ref: NatureOfVisit
          type: array
          items:
            $ref: NatureOfVisit
/locations:
  get:
    summary: List Locations
    description: |
      List Locations for a Practice
    parameters:
    tags:
      - Locations
    responses:
      200:
        description: list of locations for a practice
        schema:
          #$ref: NatureOfVisit
          type: array
          items:
            $ref: Location
/visit_reasons:
  get:
    summary: List Visit Reasons
    description: |
      List Visit Reasons for a Practice
    parameters:
    tags:
      - Visit Reasons
    responses:
      200:
        description: list of visit reasons for a practice
        schema:
          #$ref: NatureOfVisit
          type: array
          items:
            $ref: NatureOfVisit
/oauth2/authorization:
  get:
    summary: Authorization Details
    description:
      Show information about an authorization grant, such as the Practice ID, OAuth scopes, and the User who allowed it
    tags:
      - Authorization
    responses:
      200:
        description: info about an authorization
        schema:
          $ref: OAuth2Authorization_Response
/oauth2/token_info:
  get:
    summary: Token Details
    description:
      Show information about a token, such as the time remaining until it expires
    tags:
      - Authorization
    responses:
      200:
        description: info about a token
        schema:
          $ref: OAuth2TokenInfo_Response
